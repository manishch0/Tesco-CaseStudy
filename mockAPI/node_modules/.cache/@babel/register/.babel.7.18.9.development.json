{"{\"assumptions\":{},\"sourceRoot\":\"/Users/ran/Documents/Tesco-CaseStudy/mockAPI/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/ran/Documents/Tesco-CaseStudy/mockAPI\",\"filename\":\"/Users/ran/Documents/Tesco-CaseStudy/mockAPI/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/ran/Documents/Tesco-CaseStudy/mockAPI\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.9:development":{"value":{"code":"//import dependencies\nimport express from \"express\";\nimport winston from \"winston\";\nimport \"dotenv/config\";\nimport cors from \"cors\";\nimport swaggerUI from \"swagger-ui-express\";\nimport swaggerJsDoc from \"swagger-jsdoc\";\nimport cookieParser from \"cookie-parser\";\nimport userRoutes from \"./src/routes/user\";\nconst app = express(); // Swagger\n\nconst swaggerOptions = {\n  definition: {\n    openapi: \"3.0.0\",\n    info: {\n      title: \"karma Rewards\",\n      version: \"1.0.0\"\n    }\n  },\n  apis: [\"./src/routes/*.js\"]\n}; // config objects\n\nconst swaggerDocs = swaggerJsDoc(swaggerOptions);\nconst logConfiguration = {\n  transports: [new winston.transports.Console(), new winston.transports.File({\n    level: \"info\",\n    filename: \"logs/serverActivity.log\"\n  })]\n};\nconst logger = winston.createLogger(logConfiguration); // using all middle tiers\n\nconst corsOptions = {\n  origin: true,\n  //included origin as true\n  credentials: true //included credentials as true\n\n};\napp.use(cors(corsOptions));\napp.use(\"/api-docs\", swaggerUI.serve, swaggerUI.setup(swaggerDocs));\napp.use(express.urlencoded({\n  extended: false\n}));\napp.use(express.json());\napp.use(cookieParser());\napp.disable(\"x-powered-by\");\nuserRoutes(app);\napp.listen(process.env.PORT, async (req, res) => {\n  logger.log(\"info\", \"server started at \" + process.env.PORT);\n});\nexport default app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwid2luc3RvbiIsImNvcnMiLCJzd2FnZ2VyVUkiLCJzd2FnZ2VySnNEb2MiLCJjb29raWVQYXJzZXIiLCJ1c2VyUm91dGVzIiwiYXBwIiwic3dhZ2dlck9wdGlvbnMiLCJkZWZpbml0aW9uIiwib3BlbmFwaSIsImluZm8iLCJ0aXRsZSIsInZlcnNpb24iLCJhcGlzIiwic3dhZ2dlckRvY3MiLCJsb2dDb25maWd1cmF0aW9uIiwidHJhbnNwb3J0cyIsIkNvbnNvbGUiLCJGaWxlIiwibGV2ZWwiLCJmaWxlbmFtZSIsImxvZ2dlciIsImNyZWF0ZUxvZ2dlciIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwiY3JlZGVudGlhbHMiLCJ1c2UiLCJzZXJ2ZSIsInNldHVwIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImRpc2FibGUiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInJlcSIsInJlcyIsImxvZyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3Jhbi9Eb2N1bWVudHMvVGVzY28tQ2FzZVN0dWR5L21vY2tBUEkvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCBkZXBlbmRlbmNpZXNcbmltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgd2luc3RvbiBmcm9tIFwid2luc3RvblwiO1xuaW1wb3J0IFwiZG90ZW52L2NvbmZpZ1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBzd2FnZ2VyVUkgZnJvbSBcInN3YWdnZXItdWktZXhwcmVzc1wiO1xuaW1wb3J0IHN3YWdnZXJKc0RvYyBmcm9tIFwic3dhZ2dlci1qc2RvY1wiO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tIFwiY29va2llLXBhcnNlclwiO1xuaW1wb3J0IHVzZXJSb3V0ZXMgZnJvbSBcIi4vc3JjL3JvdXRlcy91c2VyXCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuXG4vLyBTd2FnZ2VyXG5jb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcbiAgZGVmaW5pdGlvbjoge1xuICAgIG9wZW5hcGk6IFwiMy4wLjBcIixcbiAgICBpbmZvOiB7XG4gICAgICB0aXRsZTogXCJrYXJtYSBSZXdhcmRzXCIsXG4gICAgICB2ZXJzaW9uOiBcIjEuMC4wXCIsXG4gICAgfSxcbiAgfSxcbiAgYXBpczogW1wiLi9zcmMvcm91dGVzLyouanNcIl0sXG59O1xuXG4vLyBjb25maWcgb2JqZWN0c1xuY29uc3Qgc3dhZ2dlckRvY3MgPSBzd2FnZ2VySnNEb2Moc3dhZ2dlck9wdGlvbnMpO1xuXG5jb25zdCBsb2dDb25maWd1cmF0aW9uID0ge1xuICB0cmFuc3BvcnRzOiBbXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5Db25zb2xlKCksXG4gICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHtcbiAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgIGZpbGVuYW1lOiBcImxvZ3Mvc2VydmVyQWN0aXZpdHkubG9nXCIsXG4gICAgfSksXG4gIF0sXG59O1xuY29uc3QgbG9nZ2VyID0gd2luc3Rvbi5jcmVhdGVMb2dnZXIobG9nQ29uZmlndXJhdGlvbik7XG5cbi8vIHVzaW5nIGFsbCBtaWRkbGUgdGllcnNcblxuY29uc3QgY29yc09wdGlvbnMgPSB7XG4gIG9yaWdpbjogdHJ1ZSwgLy9pbmNsdWRlZCBvcmlnaW4gYXMgdHJ1ZVxuICBjcmVkZW50aWFsczogdHJ1ZSwgLy9pbmNsdWRlZCBjcmVkZW50aWFscyBhcyB0cnVlXG59O1xuXG5hcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTtcbmFwcC51c2UoXCIvYXBpLWRvY3NcIiwgc3dhZ2dlclVJLnNlcnZlLCBzd2FnZ2VyVUkuc2V0dXAoc3dhZ2dlckRvY3MpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAuZGlzYWJsZShcIngtcG93ZXJlZC1ieVwiKTtcblxudXNlclJvdXRlcyhhcHApO1xuXG5cbmFwcC5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGxvZ2dlci5sb2coXCJpbmZvXCIsIFwic2VydmVyIHN0YXJ0ZWQgYXQgXCIgKyBwcm9jZXNzLmVudi5QT1JUKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsT0FBT0EsT0FBUCxNQUFvQixTQUFwQjtBQUNBLE9BQU9DLE9BQVAsTUFBb0IsU0FBcEI7QUFDQSxPQUFPLGVBQVA7QUFDQSxPQUFPQyxJQUFQLE1BQWlCLE1BQWpCO0FBQ0EsT0FBT0MsU0FBUCxNQUFzQixvQkFBdEI7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLGVBQXpCO0FBQ0EsT0FBT0MsWUFBUCxNQUF5QixlQUF6QjtBQUNBLE9BQU9DLFVBQVAsTUFBdUIsbUJBQXZCO0FBRUEsTUFBTUMsR0FBRyxHQUFHUCxPQUFPLEVBQW5CLEMsQ0FHQTs7QUFDQSxNQUFNUSxjQUFjLEdBQUc7RUFDckJDLFVBQVUsRUFBRTtJQUNWQyxPQUFPLEVBQUUsT0FEQztJQUVWQyxJQUFJLEVBQUU7TUFDSkMsS0FBSyxFQUFFLGVBREg7TUFFSkMsT0FBTyxFQUFFO0lBRkw7RUFGSSxDQURTO0VBUXJCQyxJQUFJLEVBQUUsQ0FBQyxtQkFBRDtBQVJlLENBQXZCLEMsQ0FXQTs7QUFDQSxNQUFNQyxXQUFXLEdBQUdYLFlBQVksQ0FBQ0ksY0FBRCxDQUFoQztBQUVBLE1BQU1RLGdCQUFnQixHQUFHO0VBQ3ZCQyxVQUFVLEVBQUUsQ0FDVixJQUFJaEIsT0FBTyxDQUFDZ0IsVUFBUixDQUFtQkMsT0FBdkIsRUFEVSxFQUVWLElBQUlqQixPQUFPLENBQUNnQixVQUFSLENBQW1CRSxJQUF2QixDQUE0QjtJQUMxQkMsS0FBSyxFQUFFLE1BRG1CO0lBRTFCQyxRQUFRLEVBQUU7RUFGZ0IsQ0FBNUIsQ0FGVTtBQURXLENBQXpCO0FBU0EsTUFBTUMsTUFBTSxHQUFHckIsT0FBTyxDQUFDc0IsWUFBUixDQUFxQlAsZ0JBQXJCLENBQWYsQyxDQUVBOztBQUVBLE1BQU1RLFdBQVcsR0FBRztFQUNsQkMsTUFBTSxFQUFFLElBRFU7RUFDSjtFQUNkQyxXQUFXLEVBQUUsSUFGSyxDQUVDOztBQUZELENBQXBCO0FBS0FuQixHQUFHLENBQUNvQixHQUFKLENBQVF6QixJQUFJLENBQUNzQixXQUFELENBQVo7QUFDQWpCLEdBQUcsQ0FBQ29CLEdBQUosQ0FBUSxXQUFSLEVBQXFCeEIsU0FBUyxDQUFDeUIsS0FBL0IsRUFBc0N6QixTQUFTLENBQUMwQixLQUFWLENBQWdCZCxXQUFoQixDQUF0QztBQUNBUixHQUFHLENBQUNvQixHQUFKLENBQVEzQixPQUFPLENBQUM4QixVQUFSLENBQW1CO0VBQUVDLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVI7QUFDQXhCLEdBQUcsQ0FBQ29CLEdBQUosQ0FBUTNCLE9BQU8sQ0FBQ2dDLElBQVIsRUFBUjtBQUNBekIsR0FBRyxDQUFDb0IsR0FBSixDQUFRdEIsWUFBWSxFQUFwQjtBQUNBRSxHQUFHLENBQUMwQixPQUFKLENBQVksY0FBWjtBQUVBM0IsVUFBVSxDQUFDQyxHQUFELENBQVY7QUFHQUEsR0FBRyxDQUFDMkIsTUFBSixDQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBdkIsRUFBNkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQy9DakIsTUFBTSxDQUFDa0IsR0FBUCxDQUFXLE1BQVgsRUFBbUIsdUJBQXVCTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBdEQ7QUFDRCxDQUZEO0FBSUEsZUFBZTlCLEdBQWYifQ==","map":{"version":3,"names":["express","winston","cors","swaggerUI","swaggerJsDoc","cookieParser","userRoutes","app","swaggerOptions","definition","openapi","info","title","version","apis","swaggerDocs","logConfiguration","transports","Console","File","level","filename","logger","createLogger","corsOptions","origin","credentials","use","serve","setup","urlencoded","extended","json","disable","listen","process","env","PORT","req","res","log"],"sourceRoot":"/Users/ran/Documents/Tesco-CaseStudy/mockAPI/","sources":["index.js"],"sourcesContent":["//import dependencies\nimport express from \"express\";\nimport winston from \"winston\";\nimport \"dotenv/config\";\nimport cors from \"cors\";\nimport swaggerUI from \"swagger-ui-express\";\nimport swaggerJsDoc from \"swagger-jsdoc\";\nimport cookieParser from \"cookie-parser\";\nimport userRoutes from \"./src/routes/user\";\n\nconst app = express();\n\n\n// Swagger\nconst swaggerOptions = {\n  definition: {\n    openapi: \"3.0.0\",\n    info: {\n      title: \"karma Rewards\",\n      version: \"1.0.0\",\n    },\n  },\n  apis: [\"./src/routes/*.js\"],\n};\n\n// config objects\nconst swaggerDocs = swaggerJsDoc(swaggerOptions);\n\nconst logConfiguration = {\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({\n      level: \"info\",\n      filename: \"logs/serverActivity.log\",\n    }),\n  ],\n};\nconst logger = winston.createLogger(logConfiguration);\n\n// using all middle tiers\n\nconst corsOptions = {\n  origin: true, //included origin as true\n  credentials: true, //included credentials as true\n};\n\napp.use(cors(corsOptions));\napp.use(\"/api-docs\", swaggerUI.serve, swaggerUI.setup(swaggerDocs));\napp.use(express.urlencoded({ extended: false }));\napp.use(express.json());\napp.use(cookieParser());\napp.disable(\"x-powered-by\");\n\nuserRoutes(app);\n\n\napp.listen(process.env.PORT, async (req, res) => {\n  logger.log(\"info\", \"server started at \" + process.env.PORT);\n});\n\nexport default app;\n"],"mappings":"AAAA;AACA,OAAOA,OAAP,MAAoB,SAApB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAO,eAAP;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,MAAMC,GAAG,GAAGP,OAAO,EAAnB,C,CAGA;;AACA,MAAMQ,cAAc,GAAG;EACrBC,UAAU,EAAE;IACVC,OAAO,EAAE,OADC;IAEVC,IAAI,EAAE;MACJC,KAAK,EAAE,eADH;MAEJC,OAAO,EAAE;IAFL;EAFI,CADS;EAQrBC,IAAI,EAAE,CAAC,mBAAD;AARe,CAAvB,C,CAWA;;AACA,MAAMC,WAAW,GAAGX,YAAY,CAACI,cAAD,CAAhC;AAEA,MAAMQ,gBAAgB,GAAG;EACvBC,UAAU,EAAE,CACV,IAAIhB,OAAO,CAACgB,UAAR,CAAmBC,OAAvB,EADU,EAEV,IAAIjB,OAAO,CAACgB,UAAR,CAAmBE,IAAvB,CAA4B;IAC1BC,KAAK,EAAE,MADmB;IAE1BC,QAAQ,EAAE;EAFgB,CAA5B,CAFU;AADW,CAAzB;AASA,MAAMC,MAAM,GAAGrB,OAAO,CAACsB,YAAR,CAAqBP,gBAArB,CAAf,C,CAEA;;AAEA,MAAMQ,WAAW,GAAG;EAClBC,MAAM,EAAE,IADU;EACJ;EACdC,WAAW,EAAE,IAFK,CAEC;;AAFD,CAApB;AAKAnB,GAAG,CAACoB,GAAJ,CAAQzB,IAAI,CAACsB,WAAD,CAAZ;AACAjB,GAAG,CAACoB,GAAJ,CAAQ,WAAR,EAAqBxB,SAAS,CAACyB,KAA/B,EAAsCzB,SAAS,CAAC0B,KAAV,CAAgBd,WAAhB,CAAtC;AACAR,GAAG,CAACoB,GAAJ,CAAQ3B,OAAO,CAAC8B,UAAR,CAAmB;EAAEC,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAxB,GAAG,CAACoB,GAAJ,CAAQ3B,OAAO,CAACgC,IAAR,EAAR;AACAzB,GAAG,CAACoB,GAAJ,CAAQtB,YAAY,EAApB;AACAE,GAAG,CAAC0B,OAAJ,CAAY,cAAZ;AAEA3B,UAAU,CAACC,GAAD,CAAV;AAGAA,GAAG,CAAC2B,MAAJ,CAAWC,OAAO,CAACC,GAAR,CAAYC,IAAvB,EAA6B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EAC/CjB,MAAM,CAACkB,GAAP,CAAW,MAAX,EAAmB,uBAAuBL,OAAO,CAACC,GAAR,CAAYC,IAAtD;AACD,CAFD;AAIA,eAAe9B,GAAf"}},"mtime":1658916926074}}